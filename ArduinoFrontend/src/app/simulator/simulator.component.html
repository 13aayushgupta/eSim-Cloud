<!-- As a heading -->
<nav class="navbar navbar-expand-lg navbar-light text-white" style="background-color: #999;height: 50px;">
  <span class="navbar-brand mb-0 font-weight-bold text-dark h1">Simulator</span>
  <form class="form-inline my-2 my-lg-0">
    <input class="form-control mr-sm-2 text-dark" type="text" value={{projectTitle}} aria-label="text"
      id="project-title" (focusout)="onFocusOut($event)">
  </form>
  <div class="collapse navbar-collapse">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item dropdown text-white">
        <a class="nav-link dropdown-toggle text-dark" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
          aria-haspopup="true" aria-expanded="false">
          Project
        </a>
        <div class="dropdown-menu " style="background-color: #b8b8b8" aria-labelledby="navbarDropdown">
          <a class="dropdown-item text-dark" href="#">New Project</a>
          <a class="dropdown-item text-dark" href="#">Clear Project</a>
          <a class="dropdown-item text-dark" href="#">Save</a>

        </div>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle text-dark" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
          aria-haspopup="true" aria-expanded="false">
          Export
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown" style="background-color: #b8b8b8">
          <a class="dropdown-item text-dark" href="#">Schematic File</a>
          <a class="dropdown-item text-dark" href="#">Image</a>
        </div>
      </li>
    </ul>

    <ul class="navbar-nav ml-auto">
      <li class="nav-item">
        <a href="#" class="nav-link">
          <img src="./assets/images/login.svg" width="40" height="40" class="d-inline-block align-top bg" alt="">
        </a>
      </li>

    </ul>
  </div>
</nav>


<!-- start of icon block -->
<div id="secondary-header">
  <button class="btn btn-light btn-xs ml-2 mb-1 mt-1 mr-1  bg-white" style='font-size: 20px'
    (click)="toggleCodeEditor(codeDiv)"> <i class='far fa-file-code'> Code</i></button>

  <button class="btn btn-light btn-sm mb-1 mt-1"><i class='fas fa-caret-right'></i>
    Start Stimulation</button>

  <span style="flex:1 1 auto;"></span>

  <button class="btn btn-light btn-sm  ml-2 mb-1 mt-1"><i class="fa fa-trash"></i></button>

  <button class="btn btn-light btn-sm mb-1 mt-1" (click)="zoom(0)"><i class="fa fa-search-plus"></i></button>

  <button class="btn btn-light btn-sm mb-1 mt-1" style="margin-right: 30px;" (click)="zoom(1)"><i
      class="fa fa-search-minus"></i></button>

  <!-- <button class="btn btn-light btn-sm  mb-1 mt-1 bg-white" style="font-size:20px"><i class="fa fa-reply"></i></button>

  <button class="btn btn-light btn-sm  mb-1 mt-1 bg-white" style="font-size:20px"><i class="fa fa-share"></i></button>

  <button class="btn btn-light btn-sm  mb-1 mt-1 bg-white" style="font-size:20px"><i class="fa fa-link fa-rotate-45"
      style="font-size:20px"></i></button> -->

</div>
<!-- end of icon block -->


<div class="code-editor" style="z-index: 1000;" #codeDiv>
  <app-code-editor width="500" height="100"></app-code-editor>
</div>



<div class="d-flex" id="wrapper">
  <!-- Sidebar -->
  <div class="border-right" id="sidebar-wrapper" style="background-color:white;">
    <h4 class="text-center text-primary mt-2">Circuit Components</h4>

    <div>

      <div class="card-header border border-dark font-weight-bold text-dark" (click)="Collapse(itemsController)">
        Controllers
      </div>

      <div class="collapse-div" #itemsController>
        <div class="component-row" *ngFor="let row of componentsBox.controllers">
          <div class="component-card" (dblclick)="componentdbClick(item)" *ngFor="let item of row" draggable="true"
            (dragstart)="dragStart($event,item)">
            <img src={{components[item].image}} alt="{{components[item].name}}">
            <label style="font-size: smaller;">{{components[item].name}}</label>
          </div>
        </div>

      </div>
    </div>

    <div>

      <div class="card-header border border-dark font-weight-bold text-dark" (click)="Collapse(outputDiv)">
        Output
      </div>

      <div class="collapse-div" #outputDiv>
        <div class="component-row" *ngFor="let row of componentsBox.output">
          <div class="component-card" (dblclick)="componentdbClick(item)" *ngFor="let item of row" draggable="true"
            (dragstart)="dragStart($event,item)">
            <img src={{components[item].image}} alt="{{components[item].name}}" style="margin: auto;">
            <label style="font-size: smaller;">{{components[item].name}}</label>
          </div>
          <!-- <div class="component-card">
            <img src="./assets/images/components/Buzzer.png" alt="Buzzer">
            <label>Buzzer</label>
          </div>
          <div class="component-card">
            <img src="./assets/images/components/Buzzer.png" alt="Buzzer">
            <label>Buzzer</label>
          </div> -->
        </div>

      </div>
    </div>

    <div>

      <div class="card-header border border-dark font-weight-bold text-dark" (click)="Collapse(inputDiv)">
        Input
      </div>

      <div class="collapse-div" #inputDiv>
        <div class="component-row" *ngFor="let row of componentsBox.input">
          <div class="component-card" (dblclick)="componentdbClick(item)" *ngFor="let item of row" draggable="true"
            (dragstart)="dragStart($event,item)">
            <img src={{components[item].image}} alt="{{components[item].name}}" style="margin: auto;">
            <label style="font-size: smaller;">{{components[item].name}}</label>
          </div>
        </div>
      </div>
    </div>

    <div>

      <div class="card-header border border-dark font-weight-bold text-dark" (click)="Collapse(sourceDiv)">
        Sources
      </div>
      <div class="collapse-div" #sourceDiv>
        <div class="component-row" *ngFor="let row of componentsBox.power">
          <div class="component-card" (dblclick)="componentdbClick(item)" *ngFor="let item of row" draggable="true"
            (dragstart)="dragStart($event,item)">
            <img src={{components[item].image}} alt="{{components[item].name}}">
            <label>{{components[item].name}}</label>
          </div>
        </div>

      </div>


      <div class="card-header border border-dark font-weight-bold text-dark" (click)="Collapse(driverDiv)">
        Drivers
      </div>

      <div class="collapse-div" #driverDiv>
        <div class="component-row" *ngFor="let row of componentsBox.drivers">
          <div class="component-card" (dblclick)="componentdbClick(item)" *ngFor="let item of row" draggable="true"
            (dragstart)="dragStart($event,item)">
            <img src={{components[item].image}} alt="{{components[item].name}}">
            <label style="font-size: smaller;">{{components[item].name}}</label>
          </div>
        </div>

      </div>

      <div class="card-header border border-dark font-weight-bold text-dark" (click)="Collapse(miscDiv)">
        Miscellaneous
      </div>

      <div class="collapse-div" #miscDiv>
        <div class="component-row" *ngFor="let row of componentsBox.misc">
          <div class="component-card" (dblclick)="componentdbClick(item)" *ngFor="let item of row" draggable="true"
            (dragstart)="dragStart($event,item)">
            <img src={{components[item].image}} alt="{{components[item].name}}">
            <label style="font-size: smaller;">{{components[item].name}}</label>
          </div>
        </div>

      </div>
    </div>


  </div>

  <!-- /#sidebar-wrapper -->

  <!-- Page Content -->
  <div id="page-content-wrapper">
    <div id="holder"></div>
  </div>
</div>
<!-- /#page-content-wrapper -->


<div id="propertybox" style="top: 110px;left: calc(100vw - 230px);" (mousedown)="propertyMouseDown($event)">
  <div style="display: flex;justify-content: space-between;">
    <h6 class="title">Project Info</h6>
    <span style="flex:1 1 auto;"></span>
    <i class='fas fa-arrows-alt' (mousedown)="startPropertyDrag()" style="cursor: move;"></i>
  </div>
  <div class="body" style="display: flex;flex-direction: column;"></div>
  <div *ngIf="showProperty">
    <mat-form-field>
      <mat-label>Project Title</mat-label>
      <input matInput [(ngModel)]="projectTitle">
    </mat-form-field>
    <mat-form-field class="example-full-width">
      <mat-label>Description</mat-label>
      <textarea matInput></textarea>
    </mat-form-field>
  </div>
  <div *ngIf="!showProperty" style="display: flex;">
    <button mat-raised-button color="primary" style="margin-left: auto;" (click)="openInfo()">View Info</button></div>
</div>


<div id="bubblebox"></div>
<!--context menu-->

<div id="contextMenu" class="context-menu">
  <ul>
    <li>
        <h6><i class="fas fa-copy mr-2"></i>  Copy</h6>
    </li>
    <li>
        <h6><i class="fas fa-paste mr-2"></i> Paste</h6>
    </li>
    <li>
      <h6><i class="fas fa-trash-alt mr-2"></i> Delete</h6>
    </li>
  </ul>
</div>



<!--/context menu-->
<!--toast message-->
 <!--<div id="ToastMessage" class="toast" style="margin-left: auto; background-color: white;">
  <div class="toast-header">
      <strong class="mr-auto text-primary">Toast Header</strong>
      <small class="text-muted mr-auto">5 mins ago</small>
      <button type="button" class="ml-2 mb-1 close" data-dismiss="toast">&times;</button>
  </div>
  <div class="toast-body">
          Some text inside the toast body
  </div>
 </div>-->
<!--/toast message-->



